cmake_minimum_required(VERSION 3.11 FATAL_ERROR)

if(NOT CMAKE_INSTALL_PREFIX)
set(CMAKE_INSTALL_PREFIX "${CMAKE_SOURCE_DIR}" CACHE PATH "Default installation" FORCE)
endif()

project(ndmspc VERSION 0.0.0 DESCRIPTION "NDMSPC")
set(PROJECT_VERSION_RELEASE 0.1.rc0)

include(cmake/cmake_base.cmake)

# find_package(ROOT REQUIRED)
# include(ROOTMacros)

# add_subdirectory(src)

if (CMAKE_INSTALL_PREFIX STREQUAL "/usr")
INSTALL(DIRECTORY macros DESTINATION ${CMAKE_INSTALL_PREFIX}/share/${PROJECT_NAME} USE_SOURCE_PERMISSIONS)
INSTALL(FILES ${PROJECT_BINARY_DIR}/etc/profile.d/${CMAKE_PROJECT_NAME}.sh DESTINATION /etc/profile.d/)
INSTALL(FILES scripts/${CMAKE_PROJECT_NAME}.sh DESTINATION ${CMAKE_INSTALL_PREFIX}/bin)
else ()
INSTALL(DIRECTORY macros DESTINATION ${CMAKE_INSTALL_PREFIX} USE_SOURCE_PERMISSIONS)
endif ()
